# 关于jmeter测试的说明
#### *本文件夹内包含的所有项目均为使用jmeter对koko_backend的功能测试与性能测试
## 环境配置：
#### jmeter的使用要求：安装java8.0(其余版本均不可，并不支持java9.0)可在官网下载：https://www.oracle.com/java/technologies/downloads/#jdk17-windows
#### jmeter的下载安装：https://jmeter.apache.org/download_jmeter.cgi
#### jmeter的使用说明：下载解压后点击进入bin文件夹，点击jmeter.bat运行打开jmeter。

## 项目测试说明：
#### ·本项目对koko_backend项目的各个接口进行了并发、循环测试，模拟了多个不同用户发送不同请求的实际情况，测试量级在10组100名用户循环10次左右，以此测试项目的功能与性能。
#### ·模拟了用户从登录开始到搜索、发音、上传，以及搜索好友、关注、订阅、取关等等，包括设置个人信息等，软件实现的功能基本全部测试到，并且进行了一定程度上的攻击以测试软件的鲁棒性；

#### ·运行说明：在jmeter的文件栏中打开login.jmx，然后点击绿色三角运行程序即可；

#### ·结果查看：在每个线程组下均有“查看结果树”，点击后可以查看：请求成功与否、请求体详细信息、返回体详细信息；也可以选择在查看结果树右键选择导出结果，在csv/txt文件中查看测试结果。

#### ·修改用户数及参数：基础测试（已经实现的版本）提供了两百人的测试用户，分别储存在"openid&code.csv"和"users_data_modified.csv"中，基本满足测试需求，如果需要添加新用户，请查看“测试说明”，慎重添加。为满足不同用户不同请求及不同身份的需求，所有参数都是由csv文件（逗号分隔文件）传入的，可以在csv数据文件设置中修改对应编码、参数等，如要修改文件内容建议使用excel打开修改。路径建议采用相对路径。

#### ·测试说明：用户的登录凭证需要以3e5428-ff58yj5为前缀，openid需要以88hrt-j37db-x56kt-fkyou为前缀，并且后缀一致（伪用户）。

#### ·性能说明：一般在500数量以下均可以通过，2000左右时中间请求会出些间歇性失败，在线程组中可以修改时间间隔、循环次数、数量级等，建议慎重修改。

## 测试结果
#### 目前而言本项目属于并发量10以上的大型项目，但是在200名用户以上时会有一些不稳定性，可以进一步改进。
#### 可能出现错误的接口：headicon,因为初始头像图片内存太大，可能出现问题。